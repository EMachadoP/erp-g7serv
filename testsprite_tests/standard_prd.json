{
  "meta": {
    "project": "ERP G7Serv",
    "date": "2026-01-31",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "ERP G7Serv is an integrated platform designed to manage Field Service operations and business workflows efficiently, combining modules for authentication, CRM, operational work order management, financial control, and AI-powered message triage.",
  "core_goals": [
    "Provide secure access control for administrators and technical staff.",
    "Enable comprehensive client and contract management through CRM capabilities.",
    "Ensure effective management of field service work orders including geolocation and checklist validation.",
    "Offer robust finance management tools including cash flow, accounts payable/receivable, and bank reconciliation.",
    "Leverage AI to automate message triage and status inquiries enhancing operational responsiveness."
  ],
  "key_features": [
    "Secure authentication and authorization via Django admin interface at /admin/.",
    "CRM functionalities including client registration (individuals and companies), quotation generation, and contract lifecycle management.",
    "Operational module for field service managing the flow of work orders from pending to completed with check-in/check-out and geolocation tracking.",
    "Financial management features covering cash flow, accounts payable/receivable, and bank statement reconciliation.",
    "AI-powered message triage and status query processing through a dedicated API endpoint /ai/processar/. "
  ],
  "user_flow_summary": [
    "Users authenticate via the /admin/ login for secure access to the system.",
    "Sales and commercial teams register clients and create quotations, which upon approval generate service orders.",
    "Field technicians manage work orders updating statuses from pending, in progress, to completed while recording check-in/out times and locations and filling checklists.",
    "Finance personnel monitor and reconcile financial transactions including accounts payable and receivable.",
    "Users submit messages or status queries to the AI endpoint /ai/processar/ for automated processing and triage."
  ],
  "validation_criteria": [
    "Authentication restricts access only to authorized users and properly logs login attempts.",
    "CRM allows creation, update, and storage of client details, quotations, and contracts with correct business rules enforced.",
    "Work orders correctly change states according to workflow and record geolocation and checklists at check-in/check-out.",
    "Financial transactions are accurately recorded and reconciled with bank statements without discrepancies.",
    "AI message triage endpoint returns valid responses to input queries and correctly routes or replies to messages based on AI processing."
  ],
  "code_summary": {
    "tech_stack": [
      "Python 3.13",
      "Django 5.1.5",
      "PostgreSQL",
      "Railway",
      "Gunicorn",
      "WhiteNoise",
      "TestSprite MCP"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "Admin and technical access control at /admin/. Uses standard Django auth.",
        "files": [
          "erp/settings.py",
          "erp/urls.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Auth API",
            "version": "1.0.0"
          },
          "paths": {
            "/admin/": {
              "get": {
                "summary": "Admin login page"
              }
            }
          }
        }
      },
      {
        "name": "Comercial & CRM",
        "description": "Management of clients, budgets, and contracts. Handles the flow from quote to OS.",
        "files": [
          "comercial/models.py",
          "comercial/views.py",
          "comercial/urls.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "CRM API",
            "version": "1.0.0"
          },
          "paths": {
            "/comercial/": {
              "get": {
                "summary": "CRM Dashboard"
              }
            }
          }
        }
      },
      {
        "name": "Operacional (Field Service)",
        "description": "Work Order (OS) management with check-in/out, geolocation, and checklists.",
        "files": [
          "operacional/models.py",
          "operacional/views.py",
          "operacional/urls.py",
          "operacional/signals.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Operational API",
            "version": "1.0.0"
          },
          "paths": {
            "/operacional/": {
              "get": {
                "summary": "Field Service Dashboard"
              }
            }
          }
        }
      },
      {
        "name": "Financeiro",
        "description": "Cash flow, accounts payable/receivable, and bank reconciliation.",
        "files": [
          "financeiro/models.py",
          "financeiro/views.py",
          "financeiro/urls.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Finance API",
            "version": "1.0.0"
          },
          "paths": {
            "/financeiro/": {
              "get": {
                "summary": "Finance Dashboard"
              }
            }
          }
        }
      },
      {
        "name": "Portal AI (Studio AI)",
        "description": "AI-powered message triage and status queries.",
        "files": [
          "portal/models.py",
          "portal/views.py",
          "portal/urls.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "AI API",
            "version": "1.0.0"
          },
          "paths": {
            "/ai/processar/": {
              "post": {
                "summary": "Process AI query"
              }
            }
          }
        }
      }
    ]
  }
}
